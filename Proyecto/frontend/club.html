<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mi Club</title>
  <link rel="stylesheet" href="./styles.css" />
  <style>
    body{background:#f9fafb;}
    .club-panel{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:1.5rem;max-width:1200px;margin:1.5rem auto;box-shadow:0 10px 30px rgba(15,23,42,0.08)}
    .club-panel h2{margin-bottom:1rem;color:#0f172a;font-size:1.45rem;font-weight:700}
    .club-top{display:flex;flex-wrap:wrap;gap:.75rem;align-items:center;margin-bottom:1rem}
    .club-top select{min-width:220px;padding:.45rem;border:1px solid #d9dce3;border-radius:8px}
    .club-grid{display:flex;flex-direction:column;gap:1rem;align-items:stretch}
    .club-col{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem}
    .club-actions{margin-top:1rem;display:flex;gap:.5rem;flex-wrap:wrap}
    .hidden{display:none}
    .form-field{display:flex;flex-direction:column;margin-bottom:.7rem}
    .form-field label{font-weight:600;margin-bottom:.35rem;font-size:.95rem;color:#0f172a}
    .form-field input,.form-field textarea,.form-field select{padding:.55rem;border:1px solid #d9dce3;border-radius:8px;background:#fff}
    .btn-primary{background:#10b981;color:#fff;padding:.55rem 1rem;border-radius:8px;border:none;cursor:pointer}
    .btn-secondary{background:#6b7280;color:#fff;padding:.55rem 1rem;border-radius:8px;border:none;cursor:pointer}
    .small{font-size:.9rem}
    .table-wrap{background:#f8fafc;border:1px solid #e2e8f0;border-radius:12px;padding:1rem}
    .table-wrap table{width:100%;border-collapse:collapse}
    .table-wrap th,.table-wrap td{padding:.5rem;border-bottom:1px solid #e5e7eb}
    .table-wrap th{color:#0f172a;font-weight:700;font-size:.95rem}
  </style>
</head>
<body>
  <header>
    <h1>Mi Club</h1>
    <a href="./index.html" class="secondary" style="margin-top:1rem">Volver al catálogo</a>
  </header>
  <main>
    <section class="club-panel">
      <h2>Selecciona tu club</h2>
      <div class="club-top">
        <select id="club-select">
          <option value="">-- Selecciona un club --</option>
        </select>
        <button id="refresh-club-btn" class="btn-secondary">Refrescar</button>
        <div id="club-msg" class="message hidden small" style="margin:0"></div>
      </div>
      <div id="club-info" class="club-grid">
        <div class="club-col">
          <h3 id="club-name">Nombre del club</h3>
          <p id="club-area" class="small"></p>
          <p id="club-desc"></p>
          <p id="club-email" class="small"></p>
          <p id="club-whatsapp" class="small"></p>
          <div class="club-actions">
            <button id="edit-club-btn" class="btn-primary" disabled>Solicitar edición</button>
            <button id="open-create-btn" class="btn-secondary" disabled>Crear evento</button>
          </div>
        </div>
      </div>

      <div class="club-col table-wrap" style="margin-top:1rem">
        <h3>Eventos del club</h3>
        <div id="events-msg" class="message hidden" style="margin-bottom:.75rem"></div>
        <div style="overflow:auto">
          <table style="width:100%;border-collapse:collapse;min-width:400px">
            <thead>
              <tr style="text-align:left;border-bottom:1px solid #e5e7eb">
                <th style="padding:.5rem">Título</th>
                <th style="padding:.5rem">Inicio</th>
                <th style="padding:.5rem">Tipo</th>
                <th style="padding:.5rem">Cupo</th>
                <th style="padding:.5rem">Acciones</th>
              </tr>
            </thead>
            <tbody id="events-body"></tbody>
          </table>
        </div>
      </div>

      <!-- Modal para crear evento -->
      <div id="create-event-modal" class="hidden" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4)">
        <div style="background:#fff;padding:1rem;border-radius:8px;max-width:700px;width:100%;">
          <h3>Crear evento (solicitud)</h3>
          <div id="event-msg" class="message hidden"></div>
          <div class="form-field">
            <label for="e-name">Título</label>
            <input id="e-name" disabled />
          </div>
          <div class="form-field">
            <label for="e-start">Fecha inicio</label>
            <input id="e-start" type="datetime-local" disabled />
          </div>
          <div class="form-field">
            <label for="e-tipo">Tipo de evento</label>
            <select id="e-tipo" disabled>
              <option value="">-- Selecciona tipo --</option>
              <option value="TALLER">Taller</option>
              <option value="CONFERENCIA">Conferencia</option>
              <option value="REUNION">Reunión</option>
              <option value="OTRO">Otro</option>
            </select>
          </div>
          <div class="form-field">
            <label for="e-cupo">Cupo</label>
            <input id="e-cupo" type="number" min="1" disabled />
          </div>
          <div class="form-field">
            <label for="e-end">Fecha fin</label>
            <input id="e-end" type="datetime-local" disabled />
          </div>
          <div class="form-field">
            <label for="e-place">Lugar</label>
            <input id="e-place" disabled />
          </div>
          <div class="form-field">
            <label for="e-desc">Descripción</label>
            <textarea id="e-desc" rows="4" disabled></textarea>
          </div>
          <div style="display:flex;gap:.5rem;justify-content:flex-end">
            <button id="create-event-btn" class="btn-primary" disabled>Crear evento</button>
            <button id="cancel-create-btn" class="btn-secondary">Cancelar</button>
          </div>
        </div>
      </div>

      <!-- Modal simple para editar info (envía solicitud) -->
      <div id="edit-modal" class="hidden" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4)">
        <div style="background:#fff;padding:1rem;border-radius:8px;max-width:600px;width:100%;">
          <h3>Editar información del club</h3>
          <div class="form-field">
            <label for="edit-name">Nombre</label>
            <input id="edit-name" />
          </div>
          <div class="form-field">
            <label for="edit-desc">Descripción</label>
            <textarea id="edit-desc" rows="4"></textarea>
          </div>
          <div class="form-field">
            <label for="edit-email">Correo</label>
            <input id="edit-email" />
          </div>
          <div class="form-field">
            <label for="edit-whatsapp">WhatsApp</label>
            <input id="edit-whatsapp" />
          </div>
          <div style="display:flex;gap:.5rem;justify-content:flex-end">
            <button id="send-edit-btn" class="btn-primary">Enviar solicitud</button>
            <button id="cancel-edit-btn" class="btn-secondary">Cancelar</button>
          </div>
          <div id="edit-msg" class="message hidden" style="margin-top:.6rem"></div>
        </div>
      </div>

      <!-- Modal para editar evento -->
      <div id="event-edit-modal" class="hidden" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.4)">
        <div style="background:#fff;padding:1rem;border-radius:8px;max-width:700px;width:100%;">
          <h3>Editar evento</h3>
          <div class="form-field">
            <label for="ev-title">Título</label>
            <input id="ev-title" />
          </div>
          <div class="form-field">
            <label for="ev-start">Fecha inicio</label>
            <input id="ev-start" type="datetime-local" />
          </div>
          <div class="form-field">
            <label for="ev-end">Fecha fin</label>
            <input id="ev-end" type="datetime-local" />
          </div>
          <div class="form-field">
            <label for="ev-type">Tipo de evento</label>
            <select id="ev-type">
              <option value="">-- Selecciona tipo --</option>
              <option value="TALLER">Taller</option>
              <option value="CONFERENCIA">Conferencia</option>
              <option value="REUNION">Reunión</option>
              <option value="OTRO">Otro</option>
            </select>
          </div>
          <div class="form-field">
            <label for="ev-cupo">Cupo</label>
            <input id="ev-cupo" type="number" min="1" />
          </div>
          <div class="form-field">
            <label for="ev-place">Lugar</label>
            <input id="ev-place" />
          </div>
          <div class="form-field">
            <label for="ev-desc">Descripción</label>
            <textarea id="ev-desc" rows="4"></textarea>
          </div>
          <div style="display:flex;gap:.5rem;justify-content:flex-end">
            <button id="save-event-btn" class="btn-primary">Guardar</button>
            <button id="cancel-event-btn" class="btn-secondary">Cancelar</button>
          </div>
          <div id="event-edit-msg" class="message hidden" style="margin-top:.6rem"></div>
        </div>
      </div>

    </section>
  </main>

  <script src="./club.js"></script>
</body>
</html>
